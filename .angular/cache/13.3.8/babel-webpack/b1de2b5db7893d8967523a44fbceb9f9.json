{"ast":null,"code":"import { map } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let ApiService = /*#__PURE__*/(() => {\n  class ApiService {\n    constructor(http) {\n      this.http = http;\n      this.userCurrentCompleteList = [];\n      this.userCurrentWishList = [];\n    }\n\n    setUserName(name) {\n      this.username = name;\n    }\n\n    setUserId(id) {\n      this.userid = id;\n    }\n\n    getUserId() {\n      return this.userid;\n    }\n\n    addtocomplete(userid, bookid) {\n      this.http.get(\"http://localhost:3000/Users/\" + this.userid).subscribe(res => {\n        var _a; // console.log(res);\n\n\n        this.updatedPayload_completed = res;\n\n        if (res === null || res === void 0 ? void 0 : res.Completed) {\n          this.userCurrentCompleteList = res === null || res === void 0 ? void 0 : res.Completed;\n        }\n\n        if (((_a = this.userCurrentCompleteList) === null || _a === void 0 ? void 0 : _a.indexOf(bookid)) === -1) {\n          this.userCurrentCompleteList.push(bookid);\n          this.updatedPayload_completed[\"Completed\"] = this.userCurrentCompleteList;\n          alert(\"Book added in CompleteList\"); // console.log(this.updatedPayload_completed);\n\n          this.updateCompleteList(this.updatedPayload_completed);\n        } else {\n          alert(\"Already added in CompleteList!\");\n        }\n      }, err => {\n        alert(\"Something went wrong\");\n      });\n    }\n\n    addtowish(userid, bookid) {\n      this.http.get(\"http://localhost:3000/Users/\" + userid).subscribe(res => {\n        var _a; // console.log(res);\n\n\n        this.updatedPayload = res;\n\n        if (res === null || res === void 0 ? void 0 : res.WishList) {\n          this.userCurrentWishList = res === null || res === void 0 ? void 0 : res.WishList;\n        }\n\n        if (((_a = this.userCurrentWishList) === null || _a === void 0 ? void 0 : _a.indexOf(bookid)) === -1) {\n          this.userCurrentWishList.push(bookid);\n          this.updatedPayload[\"WishList\"] = this.userCurrentWishList; // console.log(this.updatedPayload);\n\n          this.updateCompleteList(this.updatedPayload);\n          alert(\"Book Added to WishList\");\n        } else {\n          alert(\"Already present in Wishlist\");\n        }\n      }, err => {\n        alert(\"Something went wrong\");\n      });\n    }\n\n    updateCompleteList(data) {\n      console.log(this.userid);\n      this.http.put(\"http://localhost:3000/Users/\" + this.userid, data).subscribe(res => {\n        console.log(\"hii\");\n      }, err => {\n        alert(\"Something went wrong\");\n      });\n    }\n\n    getBooks() {\n      return this.http.get(\"http://localhost:3000/Books\").pipe(map(res => {\n        return res;\n      }));\n    }\n\n  }\n\n  ApiService.ɵfac = function ApiService_Factory(t) {\n    return new (t || ApiService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  ApiService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ApiService,\n    factory: ApiService.ɵfac,\n    providedIn: \"root\"\n  });\n  return ApiService;\n})();","map":null,"metadata":{},"sourceType":"module"}